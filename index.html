<!DOCTYPE html>
<html>

<head>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular-route.js"></script>
</head>

<body ng-app="anguport">

    <div ng-controller="menuController">
        <ul>
            <li ng-repeat="item in menuitems"><a href="#{{ item.l }}">{{ item.t }}</a></li>
        </ul>
    </div>
    
    <div ng-view=""></div>


<script>
    
    angular.module('anguport', ['ngRoute'])
    
    .controller('menuController', function ($scope) {
        $scope.menuitems = [
            {l: '/home', t: 'Home'},
            {l: '/about', t: 'About'},
            {l: '/projects', t: 'Projects'},
            {l: '/contact', t: 'Contact'}
        ];
    })
    
    .controller('staticController', function ($scope) {
        
    })
    
    .controller('projectController', function ($scope, projectsFactory) {
        $scope.projects = projectsFactory.getProjects();
    })
    
    .config(function ($routeProvider) {
        $routeProvider
            .when('/', {
                controller: 'staticController',
                templateUrl: 'views/home.html'
            })
            .when('/about', {
                controller: 'staticController',
                templateUrl: 'views/about.html'
            })
            .when('/projects', {
                controller: 'projectController',
                templateUrl: 'views/projects.html'
            })
            .otherwise({ redirectTo: '/' });
    })
    
    .factory('projectsFactory', function () {
        var projects = [
            { title: 'Project 1', desc: 'Just a non-existing, space-filling project.' },
            { title: 'Anguport', desc: '\'Angular Portfolio\' is a simple application I wrote to learn angularjs.' }
        ];
        
        var factory = {};
        factory.getProjects = function() {
            return projects;
        };
        factory.addProject = function(project) {
            // lol
        };
        return factory;
    });

    
</script>

</body>
</html>